<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP DBVersion="V3.0" IPType="peripheral" Name="ADC" Version="aditf_v2_5" xmlns:ns0="http://www.w3.org/2001/XMLSchema-instance" ns0:schemaLocation="http://mcd.rou.st.com/modules.php?name=mcu ../../db/IP_Modes_V3_0.xsd" xmlns="http://mcd.rou.st.com/modules.php?name=mcu">
	<About>ADC: Analog to Digital Converter</About>
	
    <!-- Modes -->
    <ModeLogicOperator Name="OR">
		<Mode Name="IN0">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN0">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN0"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN1">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN1">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN1"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN2">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN2">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN2"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN3">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN3">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN3"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN4">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN4">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN4"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN5">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN5">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN5"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN6">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN6">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN6"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN7">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN7">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN7"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN8">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN8">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN8"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN9">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN9">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN9"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN10">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN10">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN10"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN11">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN11">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN11"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN12">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN12">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN12"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN13">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN13">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN13"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN14">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN14">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN14"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		<Mode Name="IN15">
			<ModeLogicOperator Name="OR">
				<Mode Name="IN15">
					<SignalLogicalOp Name="AND">
						<Signal Name="IN15"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected</Semaphore>
		</Mode>
		
		<!-- Internal channels -->
        <Mode Name="IN-TempSens" UserName="Temperature Sensor Channel" RemoveCondition="($IpNumber=2)|($IpNumber=3)">
            <ModeLogicOperator Name="XOR">
		        <Mode Name="IN-TempSens" UserName="Single-ended">
					<SignalLogicalOp Name="AND">
						<Signal Name="TempSens_Input"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected$IpInstance</Semaphore>
		</Mode>
		<Mode Name="IN-Vrefint" UserName="Vrefint Channel" RemoveCondition="($IpNumber=2)|($IpNumber=3)">
            <ModeLogicOperator Name="XOR">
		        <Mode Name="IN-Vrefint" UserName="Vrefint Channel">
					<SignalLogicalOp Name="AND">
						<Signal Name="Vref_Input"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected$IpInstance</Semaphore>
		</Mode>
		<Mode Name="IN-Vbat" UserName="Vbat Channel" RemoveCondition="($IpNumber=2)|($IpNumber=3)">
            <ModeLogicOperator Name="XOR">
		        <Mode Name="IN-Vbat" UserName="Vbat Channel">
					<SignalLogicalOp Name="AND">
						<Signal Name="Vbat_Input"/>
					</SignalLogicalOp>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>channelSelected$IpInstance</Semaphore>
		</Mode>
		
		
		<Mode Name="Injected-Conversion-Trigger" UserName="Conversion Trigger">
            <ModeLogicOperator Name="XOR">
                <Mode Name="EXTI11-Injected-Conversion-Trigger" UserName="Injected Trigger">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="EXTI11"/>
                    </SignalLogicalOp>
                    <Condition Expression="channelSelected" Diagnostic="Available only if at least one channel is selected"/>
                    <Semaphore>InjectedExternalTrigger</Semaphore>
                </Mode>
                <Mode Name="EXTI15-Injected-Conversion-Trigger" UserName="Regular Trigger">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="EXTI15"/>
                    </SignalLogicalOp>
                    <Condition Expression="channelSelected" Diagnostic="Available only if at least one channel is selected"/>
                    <Semaphore>RegularExternalTrigger</Semaphore>
                </Mode>
                <Mode Name="EXTI15-Injected-Conversion-Trigger" UserName="Injected and Regualar Trigger">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="EXTI15"/>
                        <Signal Name="EXTI11"/>
                    </SignalLogicalOp>
                    <Condition Expression="channelSelected" Diagnostic="Available only if at least one channel is selected"/>
                    <Semaphore>InjectedExternalTrigger</Semaphore>
                    <Semaphore>RegularExternalTrigger</Semaphore>
                </Mode>
            </ModeLogicOperator>
        </Mode>
	</ModeLogicOperator>
	
	<RefSignal IOMode="EXTI" Name="EXTI11"/>
	<RefSignal IOMode="EXTI" Name="EXTI15"/>
	<RefSignal IOMode="Analog" Name="IN0"/>
	<RefSignal IOMode="Analog" Name="IN1"/>
	<RefSignal IOMode="Analog" Name="IN2"/>
	<RefSignal IOMode="Analog" Name="IN3"/>
	<RefSignal IOMode="Analog" Name="IN4"/>
	<RefSignal IOMode="Analog" Name="IN5"/>
	<RefSignal IOMode="Analog" Name="IN6"/>
	<RefSignal IOMode="Analog" Name="IN7"/>
	<RefSignal IOMode="Analog" Name="IN8"/>
	<RefSignal IOMode="Analog" Name="IN9"/>
	<RefSignal IOMode="Analog" Name="IN10"/>
	<RefSignal IOMode="Analog" Name="IN11"/>
	<RefSignal IOMode="Analog" Name="IN12"/>
	<RefSignal IOMode="Analog" Name="IN13"/>
	<RefSignal IOMode="Analog" Name="IN14"/>
	<RefSignal IOMode="Analog" Name="IN15"/>
	<RefSignal IOMode="Analog" Name="TempSens_Input" Virtual="true"/>
	<RefSignal IOMode="Analog" Name="Vref_Input" Virtual="true"/>
	<RefSignal IOMode="Analog" Name="Vbat_Input" Virtual="true"/>
</IP>
