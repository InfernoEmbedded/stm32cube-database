<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP DBVersion="V4.0" 
	IPType="peripheral" 
	Name="USB_OTG_HS" 
	Version="otghs1_v1_1" 
	xmlns:ns0="http://www.w3.org/2001/XMLSchema-instance" 
	ns0:schemaLocation="http://mcd.rou.st.com/modules.php?name=mcu ../../../../../../../doc/V4/Development/Specifications/db/IP_Modes.xsd" 
	xmlns="http://mcd.rou.st.com/modules.php?name=mcu">
	
	<!-- ModeLogicOperator for HS/FS -->
	<ModeLogicOperator Name="OR">
		<Mode Name="PhySelection" UserName="Phy Selection">
			<ModeLogicOperator Name="XOR">
				<Mode Name="External">					
					<SignalLogicalOp Name="AND">	
						<Signal Name="VS_USBOTG_HS"/>						
					</SignalLogicalOp>
					<Semaphore>$IpInstanceHS</Semaphore>
				</Mode>
				<Mode Name="Internal">
					<SignalLogicalOp Name="AND">
						<Signal Name="VS_USBOTG_FS"/>
					</SignalLogicalOp>
					<Semaphore>$IpInstanceFS</Semaphore>
				</Mode>
			</ModeLogicOperator>
			<Semaphore>USB_FS_HS</Semaphore>
		</Mode>
		<!-- ModeLogicOperator for HS -->
		<Mode Name="External">		
			<ModeLogicOperator Name="XOR">
				<Mode Name="OTG/Dual-Role-Device-HS" UserName="OTG/Dual-Role-Device">
					<SignalLogicalOp Name="AND">							
						<Signal Name="ULPI_CK"/>
						<Signal Name="ULPI_D0"/>
						<Signal Name="ULPI_D1"/>
						<Signal Name="ULPI_D2"/>
						<Signal Name="ULPI_D3"/>
						<Signal Name="ULPI_D4"/>
						<Signal Name="ULPI_D5"/>
						<Signal Name="ULPI_D6"/>
						<Signal Name="ULPI_D7"/>
						<Signal Name="ULPI_DIR"/>
						<Signal Name="ULPI_NXT"/>
						<Signal Name="ULPI_STP"/>	
					</SignalLogicalOp>					
				</Mode>	 
				<Mode Name="Host-HS" UserName="Host">
					<SignalLogicalOp Name="AND">							
						<Signal Name="ULPI_CK"/>
						<Signal Name="ULPI_D0"/>
						<Signal Name="ULPI_D1"/>
						<Signal Name="ULPI_D2"/>
						<Signal Name="ULPI_D3"/>
						<Signal Name="ULPI_D4"/>
						<Signal Name="ULPI_D5"/>
						<Signal Name="ULPI_D6"/>
						<Signal Name="ULPI_D7"/>
						<Signal Name="ULPI_DIR"/>
						<Signal Name="ULPI_NXT"/>
						<Signal Name="ULPI_STP"/>	
					</SignalLogicalOp>					
				</Mode>	  
				<Mode Name="Device-HS" UserName="Device">
					<SignalLogicalOp Name="AND">							
						<Signal Name="ULPI_CK"/>
						<Signal Name="ULPI_D0"/>
						<Signal Name="ULPI_D1"/>
						<Signal Name="ULPI_D2"/>
						<Signal Name="ULPI_D3"/>
						<Signal Name="ULPI_D4"/>
						<Signal Name="ULPI_D5"/>
						<Signal Name="ULPI_D6"/>
						<Signal Name="ULPI_D7"/>
						<Signal Name="ULPI_DIR"/>
						<Signal Name="ULPI_NXT"/>
						<Signal Name="ULPI_STP"/>	
					</SignalLogicalOp>					
				</Mode>	    
			</ModeLogicOperator>	
			<Semaphore>USB_FS_HS</Semaphore>
			<Condition Expression="$IpInstanceHS" Diagnostic=""/>
		</Mode>
		<!-- ModeLogicOperator for FS -->
		<Mode Name="Internal">			
			<ModeLogicOperator Name="XOR">
				<Mode Name="OTG/Dual-Role-Device-FS" UserName="OTG/Dual-Role-Device">
					<SignalLogicalOp Name="AND">
						<Signal Name="DM"/>
						<Signal Name="DP"/>
						<Signal Name="ID"/>
						<Signal Name="VBUS"/>
					</SignalLogicalOp>					
				</Mode>
				<Mode Name="Host-FS" UserName="Host">
					<SignalLogicalOp Name="AND">
						<Signal Name="DM"/>
						<Signal Name="DP"/>
						<Signal Name="VBUS"/>
					</SignalLogicalOp>					
				</Mode>
				<Mode Name="Device-DP-DM-FS" UserName="Device-DP-DM">
					<SignalLogicalOp Name="AND">
						<Signal Name="DM"/>
						<Signal Name="DP"/>
					</SignalLogicalOp>	
					<Semaphore>$IpInstance_Device_FS</Semaphore>
				</Mode>
				<Mode Name="Device-Only-FS" UserName="Device-Only">
					<SignalLogicalOp Name="AND">
						<Signal Name="DM"/>
						<Signal Name="DP"/>
						<Signal Name="VBUS"/>
					</SignalLogicalOp>	
					<Semaphore>$IpInstance_Device_FS</Semaphore>
				</Mode>
			</ModeLogicOperator>	
			<Semaphore>USB_FS_HS</Semaphore>
			<Condition Expression="$IpInstanceFS" Diagnostic=""/>
		</Mode>	
		<Mode Name="Activate-SOF">
			<ModeLogicOperator Name="XOR">
				<Mode Name="Activate-SOF-FS" UserName="Activate-SOF">
					<SignalLogicalOp Name="AND">				
						<Signal Name="SOF"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>USB_FS_HS</Semaphore>
			<Condition Expression="$IpInstance_Device_FS" Diagnostic=""/>
		</Mode>
	</ModeLogicOperator>		
	<RefSignal IOMode="GPIO" Name="DM"/>
	<RefSignal IOMode="GPIO" Name="DP"/>
	<RefSignal IOMode="GPIO" Name="ID"/>	
	<RefSignal IOMode="GPIO" Name="SOF"/>
	<RefSignal IOMode="GPIO" Name="ULPI_CK"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D0"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D1"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D2"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D3"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D4"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D5"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D6"/>
	<RefSignal IOMode="GPIO" Name="ULPI_D7"/>
	<RefSignal IOMode="GPIO" Name="ULPI_DIR"/>
	<RefSignal IOMode="GPIO" Name="ULPI_NXT"/>
	<RefSignal IOMode="GPIO" Name="ULPI_STP"/>
	<RefSignal IOMode="Input" Name="VBUS"/>
	<RefSignal Name="VS_USBOTG_HS" Virtual="true"/>
	<RefSignal Name="VS_USBOTG_FS" Virtual="true"/>
</IP>
